
DEFINEWINDOW    1 1 22 22

DEFINECONTROLS  '2' 'W' '9' '0' 'M' 'Z' 'H' '1' '2' '3' '4'

DEFINEBLOCK     EMPTYBLOCK
                0 0 0 0 0 0 0 0
                241 241 241 241 241 241 241 241


DEFINEBLOCK     PLATFORMBLOCK
                255 255 170 85 138 65 0 0
                113 113 113 113 113 113 113 113


DEFINEBLOCK     LADDERBLOCK
                0 0 255 0 0 0 255 0
                241 241 241 241 241 241 241 241


DEFINEBLOCK     FODDERBLOCK
                170 85 170 85 170 85 170 85
                33 33 33 33 33 33 33 33



DEFINESPRITE    4
                0 3 5 47 111 238 198 219
                236 239 15 127 63 3 123 120
                0 192 160 244 246 119 99 219
                55 247 240 254 252 192 222 30
                3 5 47 111 236 246 235 204
                247 247 55 79 63 7 247 240
                192 160 244 246 55 111 195 55
                246 240 252 252 248 128 188 60
                3 5 15 47 108 246 203 220
                239 239 15 127 63 3 123 120
                192 160 240 244 54 111 211 59
                247 247 240 252 248 192 222 30
                0 3 37 111 239 238 198 235
                108 15 127 127 63 1 61 60
                0 192 160 244 246 119 103 211
                47 239 236 242 252 224 239 15

DEFINESPRITE    2
                0 0 3 15 27 49 101 113
                95 79 70 116 48 20 14 3
                0 0 192 240 216 140 134 142
                250 242 162 14 12 184 240 192
                0 0 3 15 27 49 97 113
                95 79 102 116 50 31 7 0
                0 0 192 240 216 140 166 142
                250 242 166 14 92 248 224 0

DEFINESPRITE    4
                3 15 59 97 65 197 225 179
                159 141 232 96 114 58 31 7
                192 240 220 134 163 179 183 205
                249 177 149 6 78 108 120 224
                3 15 59 97 65 197 225 179
                159 205 104 114 58 31 7 0
                192 240 220 134 131 163 135 205
                249 181 150 70 108 120 224 0
                3 15 59 97 69 205 237 179
                223 237 122 50 31 7 0 0
                192 240 220 134 131 163 135 205
                249 183 214 108 120 224 0 0
                3 15 59 97 69 205 237 179
                159 205 104 114 58 31 7 0
                192 240 220 134 163 179 183 205
                249 181 150 70 108 120 224 0

DEFINESPRITE    1
                0 0 0 3 15 25 17 57
                63 47 38 16 26 15 3 0
                0 0 0 192 240 152 136 156
                252 244 164 8 88 112 192 0

DEFINESPRITE    4
                0 3 12 16 32 32 64 80
                72 80 40 37 18 12 3 0
                0 192 48 200 116 52 2 2
                2 2 4 4 136 48 192 0
                0 0 7 24 32 64 128 144
                160 144 74 37 24 7 0 0
                0 0 224 24 100 58 1 1
                1 1 2 68 24 224 0 0
                0 3 12 16 32 32 64 80
                72 80 40 37 18 12 3 0
                0 192 48 200 116 52 2 2
                2 2 4 4 136 48 192 0
                3 4 8 16 16 32 40 32
                40 36 40 20 18 9 4 3
                192 32 208 104 40 52 4 4
                4 4 4 8 136 16 32 192


DEFINEOBJECT    0 40 160
                0 0 224 255 255 255 111 54 0 0 6 255 255 196 126 64 43 53 107 85 107 127 0 0 192 0 0 0 0 128 0 0
                241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241



DEFINESCREEN      0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  1   1   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   1   1   1   0   0   0   0   0   0   0   0   0   0   1   1   1
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  1   1   1   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   1   1   1   0   0   0   0   1   1   1   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
SPRITEPOSITION  0 0 15 160 120
SPRITEPOSITION  2 2 15 56 88
SPRITEPOSITION  2 2 15 152 16
SPRITEPOSITION  2 2 15 88 144

DEFINESCREEN      0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
SPRITEPOSITION  0 0 15 160 120
SPRITEPOSITION  2 2 15 24 96
SPRITEPOSITION  2 2 15 152 144
SPRITEPOSITION  2 2 15 56 48
SPRITEPOSITION  2 2 15 88 16

MAP             WIDTH 3
                STARTSCREEN 255
                255   0 255
ENDMAP

DEFINEFONT      0 0 0 0 0 0 0 0
                24 24 24 24 24 0 24 0
                0 108 108 0 0 0 0 0
                0 108 254 108 108 254 108 0
                0 24 126 120 126 30 126 24
                0 230 236 24 48 110 206 0
                0 48 120 48 126 204 126 0
                0 24 48 0 0 0 0 0
                0 12 24 24 24 24 12 0
                0 96 48 48 48 48 96 0
                0 0 60 24 126 24 60 0
                0 0 24 24 126 24 24 0
                0 0 0 0 0 24 24 48
                0 0 0 0 126 0 0 0
                0 0 0 0 0 56 56 0
                0 0 6 12 24 48 96 0
                0 124 206 222 246 230 124 0
                0 56 120 24 24 24 126 0
                0 124 198 6 124 192 254 0
                0 124 198 28 6 198 124 0
                0 24 56 120 216 254 24 0
                0 254 192 252 6 198 124 0
                0 124 192 252 198 198 124 0
                0 254 6 12 24 48 48 0
                0 124 198 124 198 198 124 0
                0 124 198 198 126 6 124 0
                0 0 0 48 0 0 48 0
                0 48 48 48 48 0 48 0
                0 0 12 24 48 24 12 0
                0 0 0 126 0 126 0 0
                0 0 48 24 12 24 48 0
                0 124 198 12 24 0 24 0
                0 124 222 254 254 192 124 0
                0 124 198 198 254 198 198 0
                0 252 198 252 198 198 252 0
                0 124 198 192 192 198 124 0
                0 248 204 198 198 198 252 0
                0 254 192 252 192 192 254 0
                0 254 192 252 192 192 192 0
                0 124 198 192 222 198 126 0
                0 198 198 254 198 198 198 0
                0 126 24 24 24 24 126 0
                0 6 6 6 6 198 124 0
                0 198 204 248 216 204 198 0
                0 192 192 192 192 192 254 0
                0 198 238 254 198 198 198 0
                0 198 230 246 222 206 198 0
                0 124 198 198 198 198 124 0
                0 252 198 198 252 192 192 0
                0 124 198 198 246 222 124 0
                0 252 198 198 252 204 198 0
                0 124 192 124 6 198 124 0
                0 254 48 48 48 48 48 0
                0 198 198 198 198 198 126 0
                0 198 198 198 198 108 56 0
                0 198 198 198 198 254 108 0
                0 198 108 56 56 108 198 0
                0 134 204 120 48 48 48 0
                0 254 12 24 48 96 254 0
                0 30 24 24 24 24 30 0
                0 0 192 96 48 24 12 0
                0 240 48 48 48 48 240 0
                0 48 120 252 48 48 48 0
                0 0 0 0 0 0 0 0
                0 60 102 248 96 96 254 0
                0 0 120 12 124 204 124 0
                0 96 96 124 102 102 124 0
                0 0 60 96 96 96 60 0
                0 12 12 124 204 204 124 0
                0 0 120 204 248 192 124 0
                0 28 48 56 48 48 48 0
                0 0 124 204 204 124 12 120
                0 192 192 248 204 204 204 0
                0 48 0 112 48 48 120 0
                0 12 0 12 12 12 108 56
                0 96 120 112 112 120 108 0
                0 48 48 48 48 48 28 0
                0 0 248 252 252 252 252 0
                0 0 248 204 204 204 204 0
                0 0 120 204 204 204 120 0
                0 0 248 204 204 248 192 192
                0 0 124 204 204 124 12 14
                0 0 60 96 96 96 96 0
                0 0 120 192 120 12 248 0
                0 48 120 48 48 48 28 0
                0 0 204 204 204 204 120 0
                0 0 204 204 120 120 48 0
                0 0 204 252 252 252 120 0
                0 0 204 120 48 120 204 0
                0 0 204 204 204 124 12 120
                0 0 252 24 48 96 252 0
                0 30 24 112 24 24 30 0
                0 24 24 24 24 24 24 0
                0 240 48 28 48 48 240 0
                0 60 120 0 0 0 0 0
                124 198 187 227 227 187 198 124


DEFINEMESSAGES
    "GAME OVER"
    "JACK O' LANTERN"
    "BORDER BLACKBORDER BLUEBORDER REDBORDER MAGENTABORDER GREENBORDER CYANBORDER YELLOWBORDER WHITE"
    "BORDER BLACKBORDER BLUEBORDER REDBORDER MAGENTABORDER GREENBORDER CYANBORDER YELLOWBORDER WHITEDROP GUN"

EVENT PLAYER

DETECTOBJ
IF OBJ <> 255
    GET OBJ
ENDIF
IF KEY RIGHT
    IF X > 167
        SCREENRIGHT
        LET X = 8
    ELSE
        IF CANGORIGHT
            LET IMAGE = 0
            ANIMATE
            SPRITERIGHT
        ENDIF
    ENDIF
ENDIF
IF KEY LEFT
    IF X <= 8
        SCREENLEFT
        LET X = 168
    ELSE
        IF CANGOLEFT
            LET IMAGE = 0
            ANIMATE
            SPRITELEFT
        ENDIF
    ENDIF
ENDIF
IF KEY UP
    TABLEJUMP
    BEEP 150
ENDIF
TABLEFALL
IF KEY FIRE
    IF A = 0
        IF GOT 0
            SPAWN 1 4
            LET A = 1
            BEEP 25
        ENDIF
    ENDIF
ELSE
    LET A = 0
ENDIF
IF DEADLY
    KILL
ENDIF


EVENT SPRITETYPE1

ANIMATE
REPEAT 2
    TRAIL
    SPRITEUP
ENDREPEAT
IF Y <= 7
    REMOVE
ENDIF
IF COLLISION 2
    REMOVE
    SCORE 20
    LET LINE = 3
    LET COLUMN = 25
    SHOWSCORE
    OTHER
    ADD 1 TO SETTINGB
    IF SETTINGB = 2
        REMOVE
        SUBTRACT 1 FROM C
        IF C = 0
            NEXTLEVEL
        ENDIF
    ELSE
        LET B = SETTINGB
        LET D = SETTINGA
        SPAWN 2 1
        SPAWNED
        LET SETTINGB = B
        IF D = 0
            LET SETTINGA = 1
        ELSE
            LET SETTINGA = 0
        ENDIF
        IF SETTINGB = 1
            LET IMAGE = 3
        ELSE
            LET SETTINGB = 0
        ENDIF
        OTHER
        IF SETTINGB = 1
            LET IMAGE = 3
        ELSE
            LET IMAGE = 1
            LET SETTINGB = 0
        ENDIF
        ENDSPRITE
    ENDIF
ENDIF


EVENT SPRITETYPE2

IF SETTINGA = 0
    IF CANGOLEFT
        SPRITELEFT
    ELSE
        LET SETTINGA = 1
    ENDIF
ELSE
    IF CANGORIGHT
        SPRITERIGHT
    ELSE
        LET SETTINGA = 0
    ENDIF
ENDIF
IF DIRECTION = 0
    IF CANGOUP
        SPRITEUP
    ELSE
        LET DIRECTION = 1
    ENDIF
ELSE
    IF CANGODOWN
        SPRITEDOWN
    ELSE
        LET DIRECTION = 0
    ENDIF
ENDIF
ANIMATE
IF COLLISION 0
    KILL
ENDIF


EVENT SPRITETYPE3



EVENT SPRITETYPE4



EVENT SPRITETYPE5



EVENT SPRITETYPE6



EVENT SPRITETYPE7



EVENT SPRITETYPE8



EVENT INITSPRITE

IF TYPE = 2
    ADD 1 TO C
ENDIF


EVENT MAINLOOP1



EVENT MAINLOOP2



EVENT INTROMENU



EVENT GAMEINIT

LET LIVES = 3
INK 7
PAPER 1
BORDER 1
CLS
LET LINE = 0
LET COLUMN = 4
INK 0
PAPER 6 LINE
MESSAGE 1
LET LINE = 3
LET COLUMN = 25
SHOWSCORE


EVENT RESTARTSCREEN

LET A = 0
LET LINE = 6
LET C = 0
LET COLUMN = 25
DISPLAY LIVES


EVENT FELLTOOFAR

IF TYPE = 0
    KILL
ENDIF


EVENT KILLPLAYER

SOUND 0
; FADE
SUBTRACT 1 FROM LIVES


EVENT LOSTGAME

DELAY 50


EVENT COMPLETEDGAME

; FADE
DELAY 50


EVENT NEWHIGHSCORE



EVENT COLLECTBLOCK
